post:
  x-products:
    - Core
  x-badges:
    - name: Experimental
  tags:
    - Deposits
  summary: Create a deposit amount strategy
  operationId: PostDepositStrategy
  x-sdk-operation-name: create
  description: |-
    Creates a deposit amount strategy.
    Use deposit amount strategies to determine the amounts presented to customers in deposit forms, based on currency, customer segmentation (tags), or prior deposit behavior.

    Selection of deposit amount strategy:
      - If more than one deposit amount strategy applies to a deposit request,
    the deposit amount strategy with the greater `priority` value is applied.
      - If the `strategyId` property is specified when a deposit request is created,
      the specified deposit amount strategy is applied. This overrides the priority and filter based selection process.

    Default behavior:
      - If the `customAmount` property is not specified when a deposit request is created, amount restrictions are determined from the chosen deposit amount strategy.
      - If the `amounts` property is not specified when a deposit request is created, amounts are determined from the chosen deposit amount strategy.

  requestBody:
    content:
      application/json:
        schema:
          $ref: ../components/schemas/DepositStrategy.yaml
    description: Deposit amount strategy resource.
    required: true
  responses:
    '201':
      description: Deposit amount strategy created.
      headers:
        Location:
          $ref: ../components/headers/Location.yaml
        X-RateLimit-Limit:
          $ref: ../components/headers/X-RateLimit-Limit.yaml
        X-RateLimit-Remaining:
          $ref: ../components/headers/X-RateLimit-Remaining.yaml
      content:
        application/json:
          schema:
            $ref: ../components/schemas/DepositStrategy.yaml
    '401':
      $ref: ../components/responses/Unauthorized.yaml
    '403':
      $ref: ../components/responses/Forbidden.yaml
    '422':
      $ref: ../components/responses/ValidationError.yaml
    '429':
      $ref: ../components/responses/TooManyRequests.yaml
get:
  x-products:
    - Core
  x-badges:
    - name: Experimental
  tags:
    - Deposits
  summary: Retrieve deposit amount strategies
  operationId: GetDepositStrategyCollection
  x-sdk-operation-name: getAll
  description: Retrieves a list of deposit amount strategies.
  parameters:
    - $ref: ../components/parameters/collectionLimit.yaml
    - $ref: ../components/parameters/collectionOffset.yaml
    - $ref: ../components/parameters/collectionFilter.yaml
    - $ref: ../components/parameters/collectionSort.yaml
  responses:
    '200':
      description: List of deposit amount strategies retrieved.
      headers:
        Pagination-Total:
          $ref: ../components/headers/Pagination-Total.yaml
        Pagination-Limit:
          $ref: ../components/headers/Pagination-Limit.yaml
        Pagination-Offset:
          $ref: ../components/headers/Pagination-Offset.yaml
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: ../components/schemas/DepositStrategy.yaml
    '401':
      $ref: ../components/responses/Unauthorized.yaml
    '403':
      $ref: ../components/responses/Forbidden.yaml
