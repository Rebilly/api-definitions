type: object
required:
  - name
  - recurringOptions
  - levels
  - solutions
properties:
  id:
    type: string
    description: ID of the billing portal.
    readOnly: true
    maxLength: 50
    example: bill_prt_0YV7K5TYV5D1P9ZNKDT39KZC3C
  name:
    type: string
    description: Name of the billing portal.
  recurringOptions:
    type: array
    description: Recurring options for the billing portal. For example, it can have `monthly` and `yearly` variants.
    items:
      type: object
      properties:
        id:
          type: string
          description: |-
            ID of the recurring options.
            This value must be unique to other recurring options in the same billing portal.
        name:
          type: string
          description: Name of recurring options for the billing portal.
          example: monthly
        recurringInterval:
          type: object
          description: Recurring interval settings.
          properties:
            unit:
              description: Unit of time.
              type: string
              enum:
                - day
                - week
                - month
                - year
            length:
              description: Length of time.
              type: integer
              minimum: 1
  levels:
    type: array
    description: Level options for billing portal solution.
    items:
      type: object
      properties:
        id:
          type: string
          description: |-
            ID of a level.
            This value must be unique to other levels in the same billing portal.
          example: enterprise
        name:
          type: string
          description: Name of recurring options for the billing portal.
          example: Enterprise
  solutions:
    type: object
    properties:
      items:
        type: array
        items:
          type: object
          description: Combination of flexible plans, attached to level and recurring option.
          properties:
            id:
              type: string
              description: |-
                ID of a solution.
                This value must be unique to other solutions in the same billing portal.
              example: kyc
            name:
              type: string
              description: Name of a solution.
              minLength: 1
              maxLength: 100
              example: KYC product
            description:
              type: string
              description: Description of the solution.
              example: KYC product description
            status:
              type: string
              description: Status of the solution.
              enum:
                - active
                - archived
            matrix:
              type: array
              items:
                type: object
                properties:
                  status:
                    type: string
                    description: Status of the solution item.
                    enum:
                      - active
                      - archived
                  recurringOptionId:
                    type: string
                    description: ID of the recurring option.
                    example: monthly
                  levelId:
                    type: string
                    description: ID of the level.
                    example: enterprise
                  plans:
                    type: array
                    items:
                      allOf:
                        - type: object
                          description: Plan details.
                          required:
                            - id
                          properties:
                            id:
                              type: string
                              description: ID of the main plan.
                              maxLength: 50
                              example: plan_0YV7DENSVGDBW9S71XZNNYYQ0X
                        - $ref: ./SubscriptionOrderPlan.yaml
      variants:
        type: array
        items:
          type: array
          description: Combination of solutions which can be used together.
          items:
            type: string
            description: IDs of solutions.
          example:
            - billing
            - payments
            - kyc
