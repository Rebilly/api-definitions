type: object
required:
  - websiteId
  - currency
  - amount
properties:
  id:
    readOnly: true
    allOf:
      - $ref: ./ResourceId.yaml
  websiteId:
    $ref: ./Websites/WebsiteId.yaml
  customerId:
    readOnly: true
    allOf:
      - $ref: ./CustomerId.yaml
  paymentInstrumentId:
    description: ID of the requested payment instrument to offer for the payout.
    allOf:
      - $ref: ./ResourceId.yaml
  currency:
    description: Payout currency.
    allOf:
      - $ref: ./CurrencyCode.yaml
  amount:
    description: Payout amount.
    type: number
    format: double
  availableAmount:
    description: Available payout request amount that has not been allocated.
    readOnly: true
    type: number
    format: double
  status:
    description: Status of the request.
    type: string
    readOnly: true
    enum:
      - pending
      - accepted
      - rejected
      - canceled
      - partially-fulfilled
      - fulfilled
    x-enumDescriptions:
      pending: Request is awaiting review.
      accepted: Request is accepted and awaiting processing.
      rejected: Request is rejected.
      canceled: Request is canceled by customer.
      partially-fulfilled: Request is partially paid out when `availableAmount` is less than `amount`.
      fulfilled: Request is fully paid out when `availableAmount` reaches zero.
  gatewayInstruments:
    type: array
    readOnly: true
    description: |-
      List of available payment instruments per every gateway to offer for the payout.
    items:
      type: object
      properties:
        paymentInstrumentId:
          description: ID of the payment instrument to offer.
          allOf:
            - $ref: ./CurrencyCode.yaml
        gatewayName:
          description: Name of the payment gateway to use for the payout along the payment instrument.
          x-label: Gateway account
          x-basic: true
          allOf:
            - $ref: ./Gateways/GatewayName.yaml
        exposureAmount:
          description: Total amount of sales minus credit for the given gateway and instrument.
          type: number
          format: double
        previousAllocatedAmount:
          description: Total amount of allocated credit for the payout request for the given gateway and instrument.
          type: number
          format: double
        lastTransactionTime:
          description: Date and time when the last payment is created for the gateway and the payment instrument.
          type: string
          format: date-time
        lastPayoutTime:
          description: Date and time when the last payout is created for the gateway and the payment instrument.
          type: string
          format: date-time
  allocations:
    type: array
    description: List of credit transactions that are allocated to reduce the available amount of a payout request.
    readOnly: true
    items:
      type: object
      properties:
        transactionId:
          description: ID of the transaction to which the payout request is allocated.
          allOf:
            - $ref: ./ResourceId.yaml
        transactionResult:
          description: Result of a transaction.
          type: string
          x-basic: true
          readOnly: true
          enum:
            - abandoned
            - approved
            - canceled
            - declined
            - unknown
        gatewayName:
          description: Name of the payment gateway that processed, or is selected to process, the transaction.
          x-label: Gateway account
          x-basic: true
          allOf:
            - $ref: ./Gateways/GatewayName.yaml
        paymentInstrumentId:
          description: ID of the selected payment instrument for the transaction.
          allOf:
            - $ref: ./ResourceId.yaml
        amount:
          description: Payout amount that is allocated from the payout request to the credit transaction.
          type: number
          format: double
        createdTime:
          description: Date and time at which a payout request is allocated.
          allOf:
            - $ref: ./ServerTimestamp.yaml
        updatedTime:
          $ref: ./UpdatedTime.yaml
  reason:
    description: |-
      Rejection or cancellation reason of the payout request for "rejected" or "canceled" status appropriately.
    type: string
    readOnly: true
  reviewerId:
    description: ID of the reviewer user.
    type: string
    nullable: true
    readOnly: true
    allOf:
      - $ref: ./ResourceId.yaml
  reviewTime:
    description: Review time of the payout request.
    type: string
    nullable: true
    allOf:
      - $ref: ./ServerTimestamp.yaml
  createdTime:
    description: Created time of the payout request.
    allOf:
      - $ref: ./ServerTimestamp.yaml
  updatedTime:
    description: Updated time of the payout request.
    allOf:
      - $ref: ./UpdatedTime.yaml
  _links:
    type: array
    description: The links related to resource.
    readOnly: true
    minItems: 1
    items:
      anyOf:
        - $ref: ./Links/SelfLink.yaml

