allOf:
  - $ref: ../PlanPriceFormula.yaml
  - type: object
    required:
      - brackets
    properties:
      brackets:
        description: |-
          Use this formula to charge for units that are sold in bulk, or volume ranges.
          In general, this formula means that a customer pays less per unit when they buy a large volume of units.

          For example, based on the table below,
          if a customer buys 6 units, they pay $3 per unit.
          If a customer buys 1 unit, they pay $5.

          Price per apple |Quantity range|
          ----------------|--------------|
          $5              | 0 to 1       |
          $4              | 2 to 5       |
          $3              | 6 or more    |

          - Unit #1: $3
          - Unit #2: $3
          - Unit #3: $3
          - Unit #4: $3
          - Unit #5: $3
          - Unit #6: $3

          Total cost: $18.
        type: array
        minItems: 1
        items:
          type: object
          properties:
            price:
              description: Price of the quantity range.
              type: number
              format: double
              example: 99.95
            maxQuantity:
              description: |-
                Maximum permitted unit quantity.
                If this value is `null`, no limit is in place.

                This value starts from the end of the previous quantity range.
                If there are no previous quantity ranges,
                this value starts at 1.

              type: integer
              example: 1
