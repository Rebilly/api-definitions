type: object
additionalProperties: false
required:
  - name
  - currency
  - productId
  - pricing
  - recurringInterval
allOf:
  - $ref: ../../Common/CommonPlan.yaml
properties:
  recurringInterval:
    description: The service interval. For a one-time item, use `null`.
    allOf:
      - $ref: ../PlanPeriod.yaml
      - type: object
        properties:
          limit:
            description: |
              The number of invoices this subscription order will generate
              (if 1, it will not generate any beyond the initial order creation).
              For example, set this property to `12`, when the `periodUnit` is month and the
              `periodDuration` is 1, for a 1 year contract billed monthly.
            type: integer
          billingTiming:
            $ref: ../PlanBillingTiming.yaml
  trial:
    type: object
    description: The trial configuration. Set `null` if no trial.
    required:
      - price
      - period
    properties:
      price:
        description: The price of the trial. For a free trial, use `0`.
        type: number
        format: double
      period:
        $ref: ../PlanPeriod.yaml
  invoiceTimeShift:
    description: |-
      Use invoice time shift to adjust the invoice issue and due date
      when billing must occur before the service period changes.
      For example, rent must be paid in advance, so the invoice must
      be in advance of the billing date. For more information, see
      [Service period anchor, and billing timing, and invoice time shift](https://www.rebilly.com/docs/dev-docs/concepts/#service-period-anchor-and-billing-timing-and-invoice-time-shift).
    allOf:
      - $ref: ../../Invoices/InvoiceTimeShift.yaml
