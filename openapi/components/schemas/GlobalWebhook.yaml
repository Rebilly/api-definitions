type: object
required:
  - method
  - url
  - credentialHash
properties:
  id:
    type: string
    description: ID of the webhook.
    readOnly: true
    maxLength: 50
    example: hook_0YVBG8S0K0DG59J6S3RMN9K452
  eventsFilter:
    description: |-
      Event types that trigger the webhook.
      If empty, all event types trigger the webhook.
    type: array
    default: []
    items:
      $ref: ./GlobalEventType.yaml
  status:
    x-basic: true
    type: string
    default: active
    enum:
      - active
      - inactive
  method:
    type: string
    x-basic: true
    enum:
      - GET
      - POST
      - PUT
      - PATCH
      - DELETE
  url:
    description: URL that receives requests when a specified event occurs.
    type: string
    format: uri
  headers:
    description: Headers to include in the webhook request.
    type: array
    items:
      type: object
      description: Header to include in the webhook request.
      properties:
        name:
          description: Name of the header.
          type: string
        status:
          description: Status of the header.
          type: string
          default: active
          enum:
            - active
            - inactive
        value:
          description: Value of the header.
          type: string
          example:
            value1
      required:
        - name
        - value
  credentialHash:
    type: string
    description: Credential hash for authenticating requests to the URL.
  body:
    description: |-
      Webhook request body.
      If this value is `null`,
      the default payload for the specified event is used.
      Template placeholders are permitted.

      Invalid placeholders render as empty strings.
      For example, `Hello {{invalid.placeholder}}!` is rendered as `Hello !`.

      For more information,
      see [Placeholders](https://www.rebilly.com/docs/automations/email-notifications/#placeholders).
    type:
      - 'string'
      - 'null'
  filter:
    description: |-
      Filter that determines whether to send the webhook.
      This field requires a special format.
      Use `,` for multiple allowed values.
      Use `;` for multiple fields.

      For more information,
      see [Using filters](https://www.rebilly.com/docs/dev-docs/search-filters).
    type:
      - 'string'
      - 'null'
  createdTime:
    $ref: CreatedTime.yaml
  updatedTime:
    x-label: Last update time
    $ref: UpdatedTime.yaml
  _links:
    $ref: ./SelfLink.yaml
