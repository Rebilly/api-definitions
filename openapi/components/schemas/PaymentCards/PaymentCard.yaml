allOf:
  - $ref: ../Common/CommonPaymentCard.yaml
  - type: object
    properties:
      customerId:
        $ref: ../CustomerId.yaml
      stickyGatewayAccountId:
        description: |-
          Sticky gateway account ID.
          All future payments are processed by this gateway account.

          For more information,
          see [Gateway routing](https://www.rebilly.com/docs/settings/intelligent-payment-routing/#sticky-gateway-accounts).
        type: string
        nullable: true
        readOnly: true
      expirationReminderTime:
        description: Date and time when an expiration reminder event is triggered.
        nullable: true
        type: string
        format: date-time
        readOnly: true
      expirationReminderNumber:
        description: Number of expiration reminder events that have triggered.
        nullable: true
        type: integer
        readOnly: true
      referenceData:
        description: Payment instrument reference data.
        type: object
        additionalProperties:
          type: string
        example:
          gatewayTransactionId: GAT123
      digitalWallet:
        readOnly: true
        description: Digital wallet type.
        type: string
        nullable: true
        enum:
          - Apple Pay
          - Google Pay
      riskMetadata:
        $ref: ../RiskMetadata.yaml
      _links:
        type: array
        description: Related links.
        readOnly: true
        items:
          type: object
          properties:
            href:
              description: Link URL.
              type: string
            rel:
              description: Type of link.
              type: string
              enum:
                - self
                - customer
                - authTransaction
                - approvalUrl
      _embedded:
        type: object
        description: Embedded objects that are requested by the `expand` query parameter.
        readOnly: true
        properties:
          authTransaction:
            type: object
          customer:
            type: object
