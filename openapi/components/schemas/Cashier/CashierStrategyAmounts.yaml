type: object
description: The amounts configuration.
required:
  - calculator
  - baseAmount
  - increments
properties:
  calculator:
    type: string
    description: |-
      The amounts calculator.

      Amounts are set starting with `baseAmount`, followed by increments to `baseAmount`, defined in `increments`.

      For example, `baseAmount: 10` and `increments: [20, 50, 100]`.

      When calculator is `absolute` amounts presented to the customer are `[10, 30, 60, 110]`.

      When calculator is `percent` amounts presented to the customer are `[10, 12, 15, 20]`.
    enum:
      - absolute
      - percent
  baseAmount:
    type: number
    format: double
    minimum: 0
    exclusiveMinimum: true
    description: |-
      The first amount available to customer.

      Use mustache templates with `cashierRequest` variable or a constant value.
  increments:
    type: array
    description: |-
      The list of incremental percent amounts available to customer.

      For example, when `baseAmount` is `10` and `increments` are `[20, 50, 150]` the available amounts are: `[10, 12, 15, 25]`.
      Amounts less than or equal to 0 are ignorred.
    items:
      type: number
      format: double
      minimum: 0
      exclusiveMinimum: true
  adjustBaseToLastDeposit:
    type: boolean
    default: false
    description: |-
      Specifies whether the base amount should be adjusted based on the last deposit or not.

      If this value is `true`, the `baseAmount` would be changed to the last successful deposit amount.

      If customer has no sucessful deposits `baseAmount` remains unchanged.
