type: object
required:
  - type
  - plan
properties:
  id:
    type: string
    description: ID of the subscription.
    readOnly: true
    maxLength: 50
    example: sub_01HRF27SATGE4Z6PBJE6PD8328
  type:
    description: Specifies the type of order item.
    type: string
    x-basic: true
    const: subscription
  renewalReminderTime:
    description: Date and time when the renewal reminder event triggers.
    type:
      - 'string'
      - 'null'
    format: date-time
    readOnly: true
  renewalReminderNumber:
    description: Number of triggered renewal reminder events.
    type:
      - 'integer'
      - 'null'
    readOnly: true
  recurringInterval:
    type:
      - 'object'
      - 'null'
    description: |-
      Recurring interval to override plan settings.
      To use plan settings, set this value to `null`.

      To use multiple plans in one subscription,
      all plans must have the same recurring period length.
    example: null
    properties:
      periodAnchorInstruction:
        $ref: ./ServicePeriodAnchorInstruction.yaml
  renewalTime:
    description: Date and time when the subscription renews.
    type:
      - 'string'
      - 'null'
    x-sortable: true
    x-basic: true
    format: date-time
  rebillNumber:
    description: Current billing period number.
    type:
      - 'integer'
      - 'null'
    readOnly: true
    x-sortable: true
  planId:
    description: ID of the plan.
    x-basic: true
    type: string
    maxLength: 50
    example: plan_0YV7DENSVGDBW9S71XZNNYYQ0X
  productId:
    type: string
    description: ID of the related product.
    maxLength: 50
    example: prod_0YV7DES3WPC5J8JD8QTVNZBZNZ
    readOnly: true
  plan:
    description: Details of the plan.
    oneOf:
      - $ref: ./OriginalPlan.yaml
      - $ref: ./FlexiblePlan.yaml
  quantity:
    description: Number of product units in the specified plan.
    type: integer
    minimum: 0
    maximum: 1000000000
  quantityFilled:
    description: Number of filled product units.
    type:
      - 'number'
      - 'null'
    format: double
    example: 5.125
  usageLimits:
    oneOf:
      - $ref: ./UsageLimits.yaml
      - type: 'null'
    default: null
  usageStatus:
    oneOf:
      - $ref: ./UsageStatus.yaml
      - type: 'null'
    default: null
  revision:
    type: integer
    readOnly: true
    description: Revision number that increments with each overriding change to this specific item.
  excludeFromMrr:
    type: boolean
    description: Specifies if this item should be excluded from monthly recurring revenue calculations.
  createdTime:
    $ref: ./CreatedTime.yaml
  updatedTime:
    $ref: ./UpdatedTime.yaml
