type: object
required:
  - customerId
  - websiteId
  - items
properties:
  id:
    type: string
    description: ID of the order.
    readOnly: true
    maxLength: 50
    example: ord_01GYJPRKHBD6ZYHH897QCJMBS4
  organizationId:
    readOnly: true
    allOf:
      - $ref: ./OrganizationId.yaml
  customerId:
    $ref: ./CustomerId.yaml
  websiteId:
    $ref: ./WebsiteId.yaml
  initialInvoiceId:
    type: string
    description: ID of the initial invoice.
    readOnly: true
    maxLength: 50
    example: in_0YVF9605RKC62BP14NE2R7V2XT
  recentInvoiceId:
    description: |-
      ID of the most recently issued invoice.
      The invoice might not be `paid` yet.
    readOnly: true
    type:
      - 'string'
      - 'null'
    maxLength: 50
    example: in_0YVF9605RKC62BP14NE2R7V2XT
  upcomingInvoiceId:
    type: string
    description: ID of the upcoming invoice.
    readOnly: true
    maxLength: 50
    example: in_0YVF9605RKC62BP14NE2R7V2XT
  billingStatus:
    description: |-
      Billing status of the most recent invoice.
      This value may help you to determine if you should change the service status of the service,
      such as suspending the service.
    type: string
    readOnly: true
    enum:
      - draft
      - unpaid
      - past-due
      - abandoned
      - paid
      - voided
      - refunded
      - disputed
      - partially-refunded
      - partially-paid
  items:
    type: array
    description: Items of the order.
    items:
      type: object
      description: Order entry details.
      discriminator:
        propertyName: type
        mapping:
          subscription: ./Subscription.yaml
          one-time-sale: ./OneTimeSale.yaml
      anyOf:
        - $ref: ./Subscription.yaml
        - $ref: ./OneTimeSale.yaml
  invoiceIssueTimeShift:
    description: Invoice issue time shift of the order.
    type:
      - 'string'
      - 'null'
    example: +P00Y00M00DT00H00M00S
  invoiceDueTimeShift:
    description: Invoice due time shift of the order.
    type:
      - 'string'
      - 'null'
    example: +P00Y00M00DT00H00M00S
  paymentInstrumentId:
    type:
      - 'string'
      - 'null'
    description: |-
      ID of the payment instrument to use for autopay.
      If this value is not provided, or if the payment instrument is inactive,
      the customer's default payment instrument is used.
    maxLength: 50
    example: inst_0YVB8KPKNXCBR9EDX7JHSED75N
  poNumber:
    description: Purchase order number displayed on the issued invoices.
    type:
      - 'string'
      - 'null'
    example: PO123456
  notes:
    description: Notes for the customer displayed on the order invoice.
    type: string
  billingAddress:
    description: Billing address of the order.
    oneOf:
      - $ref: ./ContactObject.yaml
      - type: 'null'
  deliveryAddress:
    description: Delivery address of the order.
    oneOf:
      - $ref: ./ContactObject.yaml
      - type: 'null'
  autopay:
    description: |-
      Specifies if payment attempts are made automatically.
      If autopay is enabled, the payment is retrieved from the customer on the renewal date using the payment instrument that is set at `paymentInstrumentId`,
      or the default payment instrument on the order.
    type: boolean
    default: true
  revision:
    description: |-
      Number of times the order data has been modified.

      The revision is useful when analyzing webhook data to determine if the
      change takes precedence over the current representation.
    type: integer
    readOnly: true
  createdTime:
    $ref: ./CreatedTime.yaml
  updatedTime:
    $ref: ./UpdatedTime.yaml
  _embedded:
    type: object
    description: Embedded objects that are requested by the `expand` query parameter.
    readOnly: true
    properties:
      customer:
        $ref: ./Customer.yaml
      initialInvoice:
        $ref: ./Invoice.yaml
      recentInvoice:
        $ref: ./Invoice.yaml
      upcomingInvoice:
        $ref: ./Invoice.yaml
      paymentInstrument:
        $ref: ./PaymentInstrument.yaml
      website:
        $ref: ./Website.yaml
