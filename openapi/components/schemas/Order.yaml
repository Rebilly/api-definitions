type: object
required:
  - customerId
  - websiteId
  - items
properties:
  id:
    type: string
    description: ID of the order.
    readOnly: true
    maxLength: 50
    example: ord_01GYJPRKHBD6ZYHH897QCJMBS4
  organizationId:
    readOnly: true
    allOf:
      - $ref: ./OrganizationId.yaml
  customerId:
    $ref: ./CustomerId.yaml
  websiteId:
    $ref: ./WebsiteId.yaml
  initialInvoiceId:
    type: string
    description: ID of the initial invoice.
    readOnly: true
    maxLength: 50
    example: in_0YVF9605RKC62BP14NE2R7V2XT
  recentInvoiceId:
    description: |-
      ID of the most recently issued invoice.
      The invoice might not be `paid` yet.
    readOnly: true
    type:
      - 'string'
      - 'null'
    maxLength: 50
    example: in_0YVF9605RKC62BP14NE2R7V2XT
  upcomingInvoiceId:
    type: string
    description: ID of the upcoming invoice.
    readOnly: true
    maxLength: 50
    example: in_0YVF9605RKC62BP14NE2R7V2XT
  billingStatus:
    description: |-
      Temporary billing status of the most recent invoice.
      This value may help you to determine if you should change the service status of the service,
      such as suspending the service.
    type: string
    readOnly: true
    enum:
      - draft
      - unpaid
      - past-due
      - abandoned
      - paid
      - voided
      - refunded
      - disputed
      - partially-refunded
      - partially-paid
  items:
    type: array
    description: Items of the order.
    items:
      type: object
      description: Order entry details.
      discriminator:
        propertyName: type
        mapping:
          subscription: ./Subscription.yaml
          one-time-sale: ./OneTimeSale.yaml
      anyOf:
        - $ref: ./Subscription.yaml
        - $ref: ./OneTimeSale.yaml
  invoiceIssueTimeShift:
    description: |-
      Invoice issue time shift interval in ISO-8601 format.

      This field adjusts the issue date and time of renewal invoices for the order.

      This interval value supports both `-` and `+` symbols.
    type:
      - 'string'
      - 'null'
    example: +P00Y00M00DT00H00M00S
  invoiceDueTimeShift:
    description: |-
      Invoice due time shift interval in ISO-8601 format.

      This field adjusts when the payment is due for the order.
      If autopay is configured, payment is collected automatically on this date.

      This interval value supports the `+` symbol.
    type:
      - 'string'
      - 'null'
    example: +P00Y00M00DT00H00M00S
  paymentInstrumentId:
    type:
      - 'string'
      - 'null'
    description: |-
      ID of the payment instrument to use for autopay.
      If this value is not provided, or if the payment instrument is inactive,
      the customer's default payment instrument is used.
    maxLength: 50
    example: inst_0YVB8KPKNXCBR9EDX7JHSED75N
  poNumber:
    description: Purchase order number that is displayed on the issued invoices.
    type:
      - 'string'
      - 'null'
    example: PO123456
  notes:
    description: Notes for the customer that are displayed on the order invoice.
    type: string
  billingAddress:
    description: Billing address of the order.
    oneOf:
      - $ref: ./ContactObject.yaml
      - type: 'null'
  deliveryAddress:
    description: Delivery address of the order.
    oneOf:
      - $ref: ./ContactObject.yaml
      - type: 'null'
  startTime:
    description: |-
      Date and time when the subscription starts.
      If this value is `null`, the current time is used.
      This value cannot be more than one service period in the past.
    type:
      - 'string'
      - 'null'
    x-sortable: true
    x-basic: true
    example: null
    format: date-time
  activationTime:
    description: Date and time when the order is activated.
    x-sortable: true
    type:
      - 'string'
      - 'null'
    format: date-time
    readOnly: true
  autopay:
    description: |-
      Specifies if payment attempts are made automatically.
      If autopay is enabled, the payment is retrieved from the customer on the renewal date using the payment instrument that is set at `paymentInstrumentId`,
      or the default payment instrument on the order.
    type: boolean
    default: true
  revision:
    description: |-
      Number of times the order data has been modified.

      The revision is useful when analyzing webhook data to determine if the
      change takes precedence over the current representation.
    type: integer
    readOnly: true
  createdTime:
    $ref: ./CreatedTime.yaml
  updatedTime:
    $ref: ./UpdatedTime.yaml
  _links:
    $ref: ./SelfLink.yaml
  _embedded:
    type: object
    description: Embedded objects that are requested by the `expand` query parameter.
    readOnly: true
    properties:
      customer:
        $ref: ./Customer.yaml
      initialInvoice:
        $ref: ./Invoice.yaml
      recentInvoice:
        $ref: ./Invoice.yaml
      upcomingInvoice:
        $ref: ./Invoice.yaml
      paymentInstrument:
        $ref: ./PaymentInstrument.yaml
      website:
        $ref: ./Website.yaml
