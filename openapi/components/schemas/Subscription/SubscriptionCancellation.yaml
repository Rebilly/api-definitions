type: object
required:
  - subscriptionId
  - churnTime
properties:
  id:
    description: Cancellation identifier.
    readOnly: true
    allOf:
      - $ref: ../ResourceId.yaml
  subscriptionId:
    description: ID of the canceled subscription order.
    allOf:
      - $ref: ../ResourceId.yaml
  proratedInvoiceId:
    description: ID of the invoice on which the cancellation proration is calculated.
    readOnly: true
    allOf:
      - $ref: ../ResourceId.yaml
  appliedInvoiceId:
    description: ID of the invoice where the cancellation fees or credits are applied.
    readOnly: true
    allOf:
      - $ref: ../ResourceId.yaml
  canceledBy:
    description: Specifies who initiated the cancellation.
    type: string
    default: customer
    enum:
      - merchant
      - customer
  reason:
    description: Cancellation reason.
    type: string
    default: other
    enum:
      - did-not-use
      - did-not-want
      - missing-features
      - bugs-or-problems
      - do-not-remember
      - risk-warning
      - contract-expired
      - too-expensive
      - other
      - billing-failure
  description:
    description: Cancel reason description in free form.
    type: string
    maxLength: 255
  prorated:
    description: Specifies if the customer gets a pro-rata credit for the time remaining between `churnTime` and subscription next renewal time.
    type: boolean
    default: false
  status:
    description: Status of the subscription order.
    type: string
    default: confirmed
    enum:
      - draft
      - confirmed
      - completed
      - revoked
    x-enumDescriptions:
      draft: Cancellation isn't applied on an invoice and subscription but can be inspected to preview the charge.
      confirmed: Sets a subscription to be canceled when the `churnTime` is reached.
      completed: |-
        Read-only status set by the system when the `churnTime` is reached.
        The cancellation may not be changed or deleted when the status is "completed".
      revoked: Cancellation is revoked.
  canceledTime:
    description: Cancellation time (when the status is confirmed which is by default unless specified "draft").
    type: string
    format: date-time
    readOnly: true
  createdTime:
    $ref: ../CreatedTime.yaml
  updatedTime:
    $ref: ../UpdatedTime.yaml
  churnTime:
    description: Time when the subscription is deactivated.
    type: string
    format: date-time
  lineItems:
    description: |-
      Items to be added to the new invoice.
      Proration item is generated and added automatically.
    allOf:
      - $ref: ./UpcomingInvoiceItemCollection.yaml
  lineItemSubtotal:
    description: Subtotal of the line items added after the subscription cancellation.
    readOnly: true
    type: number
    example: 49.95
  _links:
    $ref: ../SelfLink.yaml
